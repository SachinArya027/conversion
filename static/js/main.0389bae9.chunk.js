(this.webpackJsonpconversion=this.webpackJsonpconversion||[]).push([[0],{132:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),i=n.n(c),s=(n(101),n(21)),o=n(13),d=n(70),j=n(38),u=n(18),l="bulk-add-campaigns",b="fetch-users",h="set-error",O="reset-error",p="set-date-range",x="set-name",f=n(177),v=[{uniqueId:Object(f.a)(),id:9999,name:"Initial",startDate:"1/19/2021",endDate:"3/9/2021",budget:8837799,userId:3}];var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:var n=t.payload.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{uniqueId:Object(f.a)()})}));return[].concat(Object(j.a)(e),Object(j.a)(n));default:return e}};var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return[].concat(Object(j.a)(e),Object(j.a)(t.payload));default:return e}};var y=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return t.payload;case O:return!1;default:return e}},D={name:"",start:"",end:""};var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(u.a)(Object(u.a)({},e),{},{start:t.payload.start,end:t.payload.end});case x:return Object(u.a)(Object(u.a)({},e),{},{name:t.payload});default:return e}},Y=Object(s.c)({campaigns:m,users:g,error:y,filters:w}),M=n(4),C=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d;var k=function(e){var t=e.initialState,n=e.children;return Object(M.jsx)(o.a,{store:Object(s.e)(Y,t||{},C(Object(s.a)(d.a))),children:n})},I=n(171),A=n(159),S=n(174),E=n(172),F=n(175),B=n(81),U=n.n(B),N=n(53),_=n.n(N),P=n(71),L=n(72),R=n.n(L),W=function(e){return{type:h,payload:e}},q=function(e){return{type:l,payload:e}},H=function(e,t){return{type:p,payload:{start:e,end:t}}};var T=function(){var e=Object(o.c)((function(e){return e.filters})),t=e.start,n=e.end,a=Object(o.b)(),r=function(e){var r="start"===e.target.name?e.target.value:t,c="end"===e.target.name?e.target.value:n;a(H(r,c))};return Object(M.jsxs)(A.a,{container:!0,spacing:3,justify:"space-between",alignItems:"center",children:[Object(M.jsx)(A.a,{item:!0,xs:5,children:Object(M.jsx)(E.a,{"data-testid":"start-field",fullWidth:!0,name:"start",label:"Start Date",type:"date",value:t,onChange:r,inputProps:{max:n},InputLabelProps:{shrink:!0}})}),Object(M.jsx)(A.a,{item:!0,xs:5,children:Object(M.jsx)(E.a,{"data-testid":"end-field",fullWidth:!0,name:"end",label:"End Date",type:"date",value:n,onChange:r,inputProps:{min:t},InputLabelProps:{shrink:!0}})}),Object(M.jsx)(A.a,{item:!0,xs:2,children:Object(M.jsx)(F.a,{disabled:!t&&!n,onClick:function(){return a(H("",""))},children:Object(M.jsx)(U.a,{})})})]})},J=n(163),X=n(82),z=n.n(X);var K=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.filters})).name;return Object(M.jsx)(E.a,{"data-testid":"name-field",fullWidth:!0,name:"name",label:"Search by name",value:t,onChange:function(t){return e(function(e){return{type:x,payload:e}}(t.target.value))},InputProps:{endAdornment:Object(M.jsx)(J.a,{children:Object(M.jsx)(z.a,{})})}})};var V=function(){return Object(M.jsxs)(A.a,{container:!0,justify:"space-between",children:[Object(M.jsx)(A.a,{item:!0,xs:12,md:6,children:Object(M.jsx)(T,{})}),Object(M.jsx)(A.a,{item:!0,xs:12,md:6,children:Object(M.jsxs)(A.a,{container:!0,justify:"space-between",children:[Object(M.jsx)(S.a,{component:A.a,item:!0,display:{xs:"none",md:"block"}}),Object(M.jsx)(A.a,{item:!0,xs:10,md:6,children:Object(M.jsx)(K,{})})]})})]})},G=n(166),Q=n(167),Z=n(168),$=n(169),ee=n(164),te=n(176),ne=n(170),ae=n(84),re=n(162),ce=n(5),ie=n(165),se=Object(ae.a)(re.a)({minHeight:"80vh",paddingBottom:"32px"}),oe=Object(ae.a)(S.a)({padding:"8px",backgroundColor:"#DCDCDC",boxShadow:"0 2px 1px 1px #A9A9A9",marginBottom:"32px",borderRadius:"5px"}),de=Object(ae.a)(ee.a)({backgroundColor:"#808080",color:"#FFFFFF",fontWeight:500}),je=Object(ce.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ie.a),ue=Object(ae.a)(S.a)((function(e){return{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:e.color,marginRight:"8px"}})),le=Object(ae.a)(S.a)({display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"}),be=r.a.memo((function(e){var t=e.isActive;return Object(M.jsxs)(le,{children:[Object(M.jsx)(ue,{color:t?"green":"red"}),t?"Active":"Inactive"]})})),he=n(83),Oe=n(23),pe=n.n(Oe);function xe(e,t){var n;return(null===(n=t.find((function(t){return t.id===e})))||void 0===n?void 0:n.name)||"Unknown User"}function fe(e){var t=e.startDate,n=e.endDate,a=pe()(),r=pe()(t,"MM/DD/YYYY"),c=pe()(n,"MM/DD/YYYY");return a.isBetween(r,c)}function ve(e){return pe()(e,"MM/DD/YYYY").format("DD/MM/YYYY")}function me(e,t){var n=e.start,a=e.end,r=e.name;return t.filter((function(e){var t,c,i,s,o=!r||e.name.toLowerCase().startsWith(r.toLowerCase()),d=(t=n,c=a,i=e.startDate,s=e.endDate,i=pe()(i,"MM/DD/YYYY"),s=pe()(s,"MM/DD/YYYY"),!i.isAfter(s)&&(t=t?pe()(t):i,c=c?pe()(c):s,i.isBetween(t,c,void 0,"[]")&&s.isBetween(t,c,void 0,"[]")));return o&&d}))}var ge=Object(he.a)((function(e){return e.filters}),(function(e){return e.users}),(function(e){return e.campaigns}),(function(e,t,n){return me(e,n).map((function(e){return Object(u.a)(Object(u.a)({},e),{},{userName:xe(e.userId,t),startDate:ve(e.startDate),endDate:ve(e.endDate),isActive:fe(e),budget:(n=e.budget,n>Math.pow(10,6)?"".concat((n/Math.pow(10,6)).toFixed(1),"M USD"):n>Math.pow(10,3)?"".concat((n/Math.pow(10,3)).toFixed(1),"K USD"):"".concat(n," USD"))});var n}))}));var ye=function(){var e=Object(o.c)(ge);return Object(M.jsx)(S.a,{marginTop:3,children:e.length?Object(M.jsx)(G.a,{component:S.a,maxHeight:"50vh",borderRadius:5,children:Object(M.jsxs)(Q.a,{stickyHeader:!0,size:"small",children:[Object(M.jsx)(Z.a,{children:Object(M.jsxs)(je,{children:[Object(M.jsx)(de,{children:"Name"}),Object(M.jsx)(de,{children:"User Name"}),Object(M.jsx)(de,{children:"Start Date"}),Object(M.jsx)(de,{children:"End date"}),Object(M.jsx)(de,{children:"Active"}),Object(M.jsx)(de,{children:"Budget"})]})}),Object(M.jsx)($.a,{children:e.map((function(e){var t=e.uniqueId,n=e.name,a=e.userName,r=e.startDate,c=e.endDate,i=e.isActive,s=e.budget;return Object(M.jsxs)(je,{"data-testid":"campaign-list-item",children:[Object(M.jsx)(ee.a,{children:n}),Object(M.jsx)(ee.a,{children:a}),Object(M.jsx)(ee.a,{children:r}),Object(M.jsx)(ee.a,{children:c}),Object(M.jsx)(ee.a,{children:Object(M.jsx)(be,{isActive:i})}),Object(M.jsx)(ee.a,{children:s})]},t)}))})]})}):Object(M.jsxs)(te.a,{severity:"warning",children:[Object(M.jsx)(ne.a,{children:"No Data Found"}),"Add new campaigns or change search criteria."]})})};var De=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.error}));return t?Object(M.jsx)(S.a,{marginBottom:2,children:Object(M.jsx)(te.a,{onClose:function(){return e({type:O})},severity:"error",children:t})}):null},we=n(86),Ye=function(){return Object(M.jsx)(oe,{children:Object(M.jsx)(I.a,{children:Object(M.jsx)(we.a,{variant:"h5",component:"h1",children:"Search Campaigns..."})})})};var Me=function(){var e=Object(o.b)();return Object(a.useEffect)((function(){window.AddCampaigns=Object(s.b)(q,e),e(function(){var e=Object(P.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("https://jsonplaceholder.typicode.com/users");case 3:n=e.sent,t({type:b,payload:n.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),t(W("Error Fetching User data."));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(M.jsxs)(se,{"data-testid":"app",children:[Object(M.jsx)(Ye,{}),Object(M.jsxs)(I.a,{children:[Object(M.jsx)(De,{}),Object(M.jsx)(V,{}),Object(M.jsx)(ye,{})]})]})};i.a.render(Object(M.jsx)(r.a.StrictMode,{children:Object(M.jsx)(k,{children:Object(M.jsx)(Me,{})})}),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.0389bae9.chunk.js.map